// single-phase channel flow
// exact solution, without viscosity, is u = 1/rho * dP/dx * t

{
    "mesh": {
        "corner-min": [0.0, 0.0, 0.0],
        "corner-max": [1.0, 4.0, 1.0],
        //"intervals": [  9,   32,   9]
        //"intervals": [ 17,   64,  17]
        //"intervals": [ 33,  128,  33]
        //"intervals": [ 65,  256,  65]
        //"intervals": [ 8, 32, 8]
        //"intervals": [ 16, 64, 16]
        //"intervals": [ 32, 128, 32]
        "intervals": [ 64,  256,  64]
    },
    
    "sim-control": {
        "initial-time": 0.0,
        "initial-time-step": 1.0e-6,
        "min-time-step": 1.0e-8,
        //"output-times": [0.01]
        "output-times": [1.0] //, 2.0, 3.0]
        //"output-times": [0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.10]
        //                  0.11, 0.12, 0.13, 0.14, 0.15, 0.16, 0.17, 0.18, 0.19, 0.20, 
        //                  0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.30, 
        //                  0.31, 0.32, 0.33, 0.34, 0.35, 0.36, 0.37, 0.38, 0.39, 0.40, 
        //                  0.41, 0.42, 0.43, 0.44, 0.45, 0.46, 0.47, 0.48, 0.49, 0.50, 
        //                  0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.57, 0.58, 0.59, 0.60,
        //                  0.61, 0.62, 0.63, 0.64, 0.65, 0.66, 0.67, 0.68, 0.69, 0.70,
        //                  0.71, 0.72, 0.73, 0.74, 0.75, 0.76, 0.77, 0.78, 0.79, 0.80,
        //                  0.81, 0.82, 0.83, 0.84, 0.85, 0.86, 0.87, 0.88, 0.89, 0.90,
        //                  0.91, 0.92, 0.93, 0.94, 0.95, 0.96, 0.97, 0.98, 0.99, 1.00]
        // "output-times": [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0,
        //                  1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2.0,
        //                  2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9, 3.0] // , 
                         // 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 3.8, 3.9, 4.0, 
                         // 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8, 4.9, 5.0, 
                         // 5.1, 5.2, 5.3, 5.4, 5.5, 5.6, 5.7, 5.8, 5.9, 6.0, 
                         // 6.1, 6.2, 6.3, 6.4, 6.5, 6.6, 6.7, 6.8, 6.9, 7.0, 
                         // 7.1, 7.2, 7.3, 7.4, 7.5, 7.6, 7.7, 7.8, 7.9, 8.0, 
                         // 8.1, 8.2, 8.3, 8.4, 8.5, 8.6, 8.7, 8.8, 8.9, 9.0, 
                         // 9.1, 9.2, 9.3, 9.4, 9.5, 9.6, 9.7, 9.8, 9.9, 10.0]
        // "output-times": [ 1.0,  2.0,  3.0,  4.0,  5.0,  6.0,  7.0,  8.0,  9.0, 10.0,
        //                  11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 20.0,
        //                  21.0, 22.0, 23.0, 24.0, 25.0, 26.0, 27.0, 28.0, 29.0, 30.0,
        //                  31.0, 32.0, 33.0, 34.0, 35.0, 36.0, 37.0, 38.0, 39.0, 40.0,
        //                  41.0, 42.0, 43.0, 44.0, 45.0, 46.0, 47.0, 48.0, 49.0, 50.0,
        //                  51.0, 52.0, 53.0, 54.0, 55.0, 56.0, 57.0, 58.0, 59.0, 60.0,
        //                  61.0, 62.0, 63.0, 64.0, 65.0, 66.0, 67.0, 68.0, 69.0, 70.0,
        //                  71.0, 72.0, 73.0, 74.0, 75.0, 76.0, 77.0, 78.0, 79.0, 80.0,
        //                  81.0, 82.0, 83.0, 84.0, 85.0, 86.0, 87.0, 88.0, 89.0, 90.0,
        //                  91.0, 92.0, 93.0, 94.0, 95.0, 96.0, 97.0, 98.0, 99.0, 100.0]
    },
    
    "ns-solver": {
        "cfl-multiplier": 0.25,
        "max-dt": 1e-2,
        //"body-force": [0.0, 0.0, -9.8],
        "bc": {
            "no-slip-walls": {
                "condition": "dirichlet-velocity",
                "face-sets": [1,2,5,6],
                "data-constant": 0.0
            },
            "inlet-pressure": { // y=ymin
                "condition": "dirichlet-pressure",
                "face-sets": [3],
                "data-constant": 1.0
            },
            "outlet-pressure": { // y=ymax
                "condition": "dirichlet-pressure",
                "face-sets": [4],
                "data-constant": 0.0
            }
        },
        "prediction-solver": {
            "viscous-implicitness": 0.5,
            "rel-tol": 1.0e-10,
            "max-ds-iter": 1000,
            "max-amg-iter": 5,
            "krylov-method": "cg",
            "gmres-krylov-dim": 5
        },
        "projection-solver": {
            "rel-tol": 1.0e-10,
            "max-ds-iter": 1000,
            "max-amg-iter": 10,
            "krylov-method": "cg",
            "gmres-krylov-dim": 5
        }
    },

    "material-properties": {
        "densities": [10.0],
        "viscosities": [10.0]
        //"immobile-materials": []
        //"material-sound-speeds": []
    },
    
    "vof-solver": {
        "advection-method": 1,
        "materials": [1],
        "initial-vof": {
            "all": {
                "material-id": 1
            }
        }
    }
}
